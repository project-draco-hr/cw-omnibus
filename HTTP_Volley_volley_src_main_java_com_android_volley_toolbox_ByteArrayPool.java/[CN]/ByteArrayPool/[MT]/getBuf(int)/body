{
  for (int i=0; i < mBuffersBySize.size(); i++) {
    byte[] buf=mBuffersBySize.get(i);
    if (buf.length >= len) {
      mCurrentSize-=buf.length;
      mBuffersBySize.remove(i);
      mBuffersByLastUse.remove(buf);
      return buf;
    }
  }
  return new byte[len];
}

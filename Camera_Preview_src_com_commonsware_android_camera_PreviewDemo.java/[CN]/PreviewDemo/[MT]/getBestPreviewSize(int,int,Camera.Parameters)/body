{
  Camera.Size result=null;
  for (  Camera.Size size : parameters.getSupportedPreviewSizes()) {
    if (size.width <= width && size.height <= height) {
      if (result == null) {
        result=size;
      }
 else {
        int resultArea=result.width * result.height;
        int newArea=size.width * size.height;
        if (newArea > resultArea) {
          result=size;
        }
      }
    }
  }
  return (result);
}

{
  String url=getUpdateUrl();
  if (url != null) {
    try {
      File book=download(url);
      File updateDir=new File(getFilesDir(),UPDATE_BASEDIR);
      updateDir.mkdirs();
      unzip(book,updateDir);
      book.delete();
      EventBus.getDefault().register(this,0);
      EventBus.getDefault().post(new BookUpdatedEvent());
      EventBus.getDefault().unregister(this);
    }
 catch (    Exception e) {
      Log.e(getClass().getSimpleName(),"Exception downloading update",e);
    }
  }
}

{
  String updateDir=prefs.getString(DownloadInstallService.PREF_UPDATE_DIR,null);
  try {
    StringBuilder buf=new StringBuilder();
    InputStream json=null;
    if (updateDir != null && new File(updateDir).exists()) {
      json=new FileInputStream(new File(new File(updateDir),"contents.json"));
    }
 else {
      json=ctxt[0].getAssets().open("book/contents.json");
    }
    BufferedReader in=new BufferedReader(new InputStreamReader(json));
    String str;
    while ((str=in.readLine()) != null) {
      buf.append(str);
    }
    in.close();
    if (updateDir != null && new File(updateDir).exists()) {
      localContents=new BookContents(new JSONObject(buf.toString()),new File(updateDir));
    }
 else {
      localContents=new BookContents(new JSONObject(buf.toString()));
    }
  }
 catch (  Exception e) {
    this.e=e;
  }
  String prevUpdateDir=prefs.getString(DownloadInstallService.PREF_PREV_UPDATE,null);
  if (prevUpdateDir != null) {
    File toBeDeleted=new File(prevUpdateDir);
    if (toBeDeleted.exists()) {
      deleteDir(toBeDeleted);
    }
  }
  return (null);
}

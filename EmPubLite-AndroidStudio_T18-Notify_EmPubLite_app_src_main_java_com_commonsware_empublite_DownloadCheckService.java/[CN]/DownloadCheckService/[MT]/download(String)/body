{
  File output=new File(getFilesDir(),UPDATE_FILENAME);
  if (output.exists()) {
    output.delete();
  }
  HttpURLConnection c=(HttpURLConnection)new URL(url).openConnection();
  FileOutputStream fos=new FileOutputStream(output.getPath());
  BufferedOutputStream out=new BufferedOutputStream(fos);
  try {
    InputStream in=c.getInputStream();
    byte[] buffer=new byte[16384];
    int len=0;
    while ((len=in.read(buffer)) > 0) {
      out.write(buffer,0,len);
    }
    out.flush();
  }
  finally {
    fos.getFD().sync();
    out.close();
    c.disconnect();
  }
  return (output);
}

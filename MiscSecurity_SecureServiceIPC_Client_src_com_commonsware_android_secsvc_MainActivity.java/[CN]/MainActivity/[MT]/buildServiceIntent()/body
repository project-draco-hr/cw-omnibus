{
  Intent result=null;
  if (verify.isChecked()) {
    PackageManager mgr=getPackageManager();
    for (    ResolveInfo info : mgr.queryIntentServices(INTENT_SERVICE,0)) {
      try {
        if (validate(info.serviceInfo.packageName,R.raw.valid_signature)) {
          result=new Intent(INTENT_SERVICE);
          result.setComponent(new ComponentName(info.serviceInfo.packageName,info.serviceInfo.name));
          break;
        }
      }
 catch (      Exception e) {
        Log.e(getClass().getSimpleName(),"Exception finding valid service",e);
      }
    }
  }
 else {
    result=INTENT_SERVICE;
  }
  return (result);
}

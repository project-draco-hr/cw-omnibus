{
  byte[] buf1=new byte[1024];
  byte[] buf2=new byte[1024];
  try {
    DataInputStream d2=new DataInputStream(i2);
    int len;
    while ((len=i1.read(buf1)) >= 0) {
      d2.readFully(buf2,0,len);
      for (int i=0; i < len; i++)       if (buf1[i] != buf2[i])       return false;
    }
    return d2.read() < 0;
  }
 catch (  EOFException ioe) {
    return false;
  }
 finally {
    i1.close();
    i2.close();
  }
}

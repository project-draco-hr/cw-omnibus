{
  if (mRequest.isCanceled()) {
    mRequest.finish("canceled-at-delivery");
    return;
  }
  if (mResponse.isSuccess()) {
    mRequest.deliverResponse(mResponse.result);
  }
 else {
    mRequest.deliverError(mResponse.error);
  }
  if (mResponse.intermediate) {
    mRequest.addMarker("intermediate-response");
  }
 else {
    mRequest.finish("done");
  }
  if (mRunnable != null) {
    mRunnable.run();
  }
}

{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);
  prefs=PreferenceManager.getDefaultSharedPreferences(this);
  type=(Spinner)findViewById(R.id.type);
  ArrayAdapter<String> types=new ArrayAdapter<String>(this,android.R.layout.simple_spinner_item,getResources().getStringArray(R.array.types));
  types.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
  type.setAdapter(types);
  period=(Spinner)findViewById(R.id.period);
  ArrayAdapter<String> periods=new ArrayAdapter<String>(this,android.R.layout.simple_spinner_item,getResources().getStringArray(R.array.periods));
  periods.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
  period.setAdapter(periods);
  crashFreq=(SeekBar)findViewById(R.id.crash_freq);
  download=(Switch)findViewById(R.id.download);
  scheduled=(Switch)findViewById(R.id.scheduled);
  scheduled.setChecked(PollReceiver.doesPendingIntentExist(this));
  toggleWidgets(!scheduled.isChecked());
  scheduled.setOnCheckedChangeListener(this);
  alarms=(AlarmManager)getSystemService(ALARM_SERVICE);
  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
    jobs=(JobScheduler)getSystemService(JOB_SCHEDULER_SERVICE);
  }
}

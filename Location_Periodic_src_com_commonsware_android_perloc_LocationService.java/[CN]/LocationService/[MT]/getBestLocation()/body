{
  Location gps=mgr.getLastKnownLocation(LocationManager.GPS_PROVIDER);
  Location network=mgr.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
  if (gps == null) {
    return (network);
  }
  if (network == null) {
    return (gps);
  }
  Location older=(gps.getTime() < network.getTime() ? gps : network);
  Location newer=(gps == older ? network : gps);
  if (older.getAccuracy() <= newer.getAccuracy()) {
    return (newer);
  }
  if (newer.distanceTo(older) < newer.getAccuracy()) {
    return (older);
  }
  return (newer);
}

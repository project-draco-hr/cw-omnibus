{
  headers.put("Content-Type","text/plain; charset=utf-8");
  assertEquals("utf-8",HttpHeaderParser.parseCharset(headers));
  headers.put("Content-Type","text/plain; charset=utf-8");
  assertEquals("utf-8",HttpHeaderParser.parseCharset(headers,"ISO-8859-1"));
  headers.put("Content-Type","text/plain;    charset=utf-8 ");
  assertEquals("utf-8",HttpHeaderParser.parseCharset(headers));
  headers.put("Content-Type","text/plain; charset=utf-8; frozzle=bar");
  assertEquals("utf-8",HttpHeaderParser.parseCharset(headers));
  headers.clear();
  assertEquals("ISO-8859-1",HttpHeaderParser.parseCharset(headers));
  headers.clear();
  assertEquals("utf-8",HttpHeaderParser.parseCharset(headers,"utf-8"));
  headers.put("Content-Type","text/plain; charset=");
  assertEquals("ISO-8859-1",HttpHeaderParser.parseCharset(headers));
  headers.put("Content-Type","text/plain");
  assertEquals("ISO-8859-1",HttpHeaderParser.parseCharset(headers));
  headers.put("Content-Type","application/json");
  assertEquals("utf-8",HttpHeaderParser.parseCharset(headers,"utf-8"));
  headers.put("Content-Type","text/plain;");
  assertEquals("ISO-8859-1",HttpHeaderParser.parseCharset(headers));
}

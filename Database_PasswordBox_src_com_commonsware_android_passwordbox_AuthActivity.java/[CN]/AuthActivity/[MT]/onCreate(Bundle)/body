{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.passphrase_setup);
  SQLiteDatabase.loadLibs(this);
  if (DatabaseHelper.getDatabase() != null) {
    startActivity(new Intent(this,MainActivity.class));
    finish();
  }
  dbState=DatabaseHelper.getDatabaseState(AuthActivity.this);
  passphrase=(EditText)findViewById(R.id.passphrase);
  confirm=(EditText)findViewById(R.id.confirm);
  passphrase.addTextChangedListener(this);
  confirm.addTextChangedListener(this);
  if (dbState == State.ENCRYPTED) {
    confirm.setVisibility(View.GONE);
  }
  CompoundButton cb=(CompoundButton)findViewById(R.id.show_passphrase);
  cb.setOnCheckedChangeListener(this);
  ok=findViewById(R.id.ok);
  ok.setOnClickListener(this);
}
